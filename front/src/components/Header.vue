<script setup lang="ts">
import { onBeforeMount } from 'vue'
import { useUserStore } from '@/stores/User'

const store = useUserStore()

onBeforeMount(() => {
  store.getProfile()
})
</script>

<template>
  <div class="header-container">
    <div class="title">ğŸˆì´ë…¸ë¡œê·¸</div>
    <div class="menu">
      <router-link to="/">ê¸€ ëª©ë¡</router-link>
      <router-link v-if="store.state.profile !== null" to="/write">ê¸€ ì‘ì„±</router-link>
      <router-link v-if="store.state.profile !== null" to="/category">ì¹´í…Œê³ ë¦¬</router-link>
      <router-link v-if="store.state.profile == null" to="/login">ë¡œê·¸ì¸</router-link>
      <a href="#" v-else @click="store.logout()">({{ store.state.profile.name }}) ë¡œê·¸ì•„ì›ƒ</a>
    </div>
  </div>
</template>

<style scoped lang="scss">
.header-container {
  text-align: center;

  .title {
    margin-top: 1.3rem;
    margin-bottom: 0.4rem;
    font-size: 2rem;
  }

  .menu {
    a {
      color: inherit;
      text-decoration: none;
      margin: 1rem;
      font-size: 0.7rem;

      &:hover {
        text-decoration: underline;
      }
    }
  }
}
</style>
